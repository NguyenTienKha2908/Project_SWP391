<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Customer Requests</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/mainUP.css}">
</head>

<body>

    <!--Page header-->
    <header id="myHeader">
        <div class="top_header">
            <h1 class="header_logo">
                <a th:href="@{/}"><img
                        src="https://firebasestorage.googleapis.com/v0/b/kirajewelry-a2n2k.appspot.com/o/Header%2FIcon%2Fblack_logo.svg?alt=media&token=b672998d-28c9-4188-b286-6af5bb795cb3" />Kira
                    Jewelry</a>
            </h1>
            <div class="tools_header">
                <div>
                    <span th:if="${session.customerName != null}">
                        <a th:href="@{/userRequests}"> Welcome, <span th:text="${session.customerName}"></span></a>
                        |
                        <a th:href="@{/logout}">Log out</a>
                    </span>
                    <span th:if="${session.customerName == null}">
                        <a th:href="@{/login}">
                            Log in</a>
                    </span>
                </div>

                <a th:href="@{/userOrders}" class="cart"><img
                        src="https://firebasestorage.googleapis.com/v0/b/kirajewelry-a2n2k.appspot.com/o/Header%2FIcon%2Fblack_cart.svg?alt=media&token=b79e4ef7-a49e-4416-85b3-eb38590289d7" /></a>
                <a th:href="@{/}" class="search"><img
                        src="https://firebasestorage.googleapis.com/v0/b/kirajewelry-a2n2k.appspot.com/o/Header%2FIcon%2Fblack_search.svg?alt=media&token=71222c1c-6604-40cb-baa6-2fb70903709b" /></a>
            </div>
        </div>
        <nav class="home_categories">
            <ul>
                <li><a th:href="@{/}">Home</a></li>
                <li>
                    <a th:href="@{/BlogList}">Blogs</a>
                </li>
                <li>
                    <a th:href="@{/}">Collections</a>
                </li>
                <li class="dropdown">
                    <a class="navbar-link collapsed has-dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <span>Jewelry</span>
                    </a>
                    <ul class="dropdown-menu list-unstyled collapse" id="menu-items">
                        <li class="dropdown-item">
                            <a th:href="@{/request}" th:if="${session.customerName != null}" class="sidebar-link">
                                Order Jewelry Now
                            </a>
                        </li>
                        <li class="dropdown-item">
                            <a th:href="@{/customizeJewelry}" th:if="${session.customerName != null}"
                                class="sidebar-link">
                                Customize Your Jewelry
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a th:href="@{/}" class="navbar-link collapsed has-dropdown" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <span>Diamonds</span>
                    </a>
                    <ul class="dropdown-menu list-unstyled collapse" id="menu-items">
                        <li class="dropdown-item">
                            <a th:href="@{/customerDiamondsPage}" th:if="${session.customerName != null}"
                                class="sidebar-link">
                                All Diamonds
                            </a>
                        </li>
                        <li class="dropdown-item">
                            <a th:href="@{/viewCustomerDiaPriceListPage}" th:if="${session.customerName != null}"
                                class="sidebar-link">
                                Diamonds Price List
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a th:href="@{/}" class="navbar-link collapsed has-dropdown" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <span>Materials</span>
                    </a>
                    <ul class="dropdown-menu list-unstyled collapse" id="menu-items">
                        <li class="dropdown-item">
                            <a th:href="@{/viewCustomerMaterialsPage}" th:if="${session.customerName != null}"
                                class="sidebar-link">
                                All Materials
                            </a>
                        </li>
                        <li class="dropdown-item">
                            <a th:href="@{/viewCustomerMaterialPriceListPage}" th:if="${session.customerName != null}"
                                class="sidebar-link">
                                Materials Price List
                            </a>
                        </li>
                    </ul>
                </li>
                <li><a th:href="@{/education}">Education</a></li>
            </ul>
        </nav>
    </header>

    <!--Page information-->
    <div class="container-fluid px-5">
        <div class="row">
            <div class="col-md-3">
                <aside id="sidebar">
                    <ul class="sidebar-nav">
                        <li class="sidebar-item">
                            <a th:href="@{/profile(CustomerId=${session.customerId})}" class="sidebar-link mainUp">
                                <span>Profile</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a th:href="@{/userHistoryOrders}" class="sidebar-link mainUp">
                                <span>History Orders</span>
                            </a>
                        </li>
                        <li class="active-mainUp sidebar-item">
                            <a class="sidebar-link mainUp collapsed has-dropdown" data-bs-toggle="collapse"
                                data-bs-target="#auth1" aria-expanded="false" aria-controls="auth1">
                                <span>Current Order</span>
                            </a>
                            <ul id="auth1" class="dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                                <li class="sidebar-item">
                                    <a th:href="@{/userRequests}" class="sidebar-link mainUp">Requests</a>
                                </li>
                                <li class="sidebar-item">
                                    <a th:href="@{/userQuotes}" class="sidebar-link mainUp">Quotes</a>
                                </li>
                                <li class="sidebar-item">
                                    <a th:href="@{/userOrders}" class="active-mini-link sidebar-link mainUp">Orders</a>
                                </li>
                                <li class="sidebar-item">
                                    <a th:href="@{/userCustomizedOrders}" class="sidebar-link mainUp">Customized
                                        Jewelry</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </aside>
            </div>
            <div class="col-md-9">
                <div class="container my-3">
                    <table class="table table-responsive-md table-hover">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="order, index : ${customerOrders}">
                                <td th:text="${order.production_Order_Id}"></td>
                                <td th:text="${order.date}"></td>
                                <td th:text="${order.status}"></td>
                                <td>
                                    <a th:href="@{/userOrder(orderId=${order.production_Order_Id})}"
                                        class="btn btn-secondary">View</a>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <!--Page footer-->
    <div th:replace="fragments/homepage_footer :: homepage_footer_comp"></div>
    <!--Page footer-->
    <script>
        window.onscroll = function () { myFunction() };
        var header = document.getElementById("myHeader");
        var sticky = header.offsetTop;
        function myFunction() {
            if (window.pageYOffset > sticky) {
                header.classList.add("sticky");
            } else {
                header.classList.remove("sticky");
            }
        }
    </script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js}"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>

</html>